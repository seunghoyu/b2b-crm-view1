<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8" />
  <title>B2B CRM ì‹ ê·œ ê³ ê° ë“±ë¡</title>
  <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-blue-50 h-screen flex overflow-hidden">
  <!-- âœ… ì¢Œì¸¡ ì‚¬ì´ë“œ ë©”ë‰´ (ëŒ€ì‹œë³´ë“œì™€ ë™ì¼) -->
  <aside class="w-[230px] bg-blue-800 text-white flex-shrink-0">
    <a href="b2b_dashboard_tailwind.html" class="block p-5 text-lg font-semibold border-b border-blue-700 hover:bg-blue-700 transition">
      B2B CRM ë©”ë‰´
    </a>

    <nav class="p-3 space-y-2">
      <!-- í†µí•©ë©”ë‰´ -->
      <div>
        <button id="menuToggle1" class="w-full flex justify-between items-center px-4 py-2 rounded-lg hover:bg-blue-700 transition">
          <span>ë°œì†¡ê´€ë¦¬</span>
          <span>â–¼</span>
        </button>
        <div id="menu1" class="hidden ml-4 mt-2 space-y-1 text-sm">
          <a href="#" class="block px-3 py-1 hover:bg-blue-700 rounded">SMS ë°œì†¡</a>
          <a href="#" class="block px-3 py-1 hover:bg-blue-700 rounded">E-Mail ë°œì†¡</a>
          <a href="#" class="block px-3 py-1 hover:bg-blue-700 rounded">ì•Œë¦¼í†¡ ë°œì†¡</a>
        </div>
      </div>

      <!-- ê´€ë¦¬ë©”ë‰´ -->
      <div>
        <button id="menuToggle2" class="w-full flex justify-between items-center px-4 py-2 rounded-lg hover:bg-blue-700 transition">
          <span>ê´€ë¦¬ë©”ë‰´</span>
          <span>â–¼</span>
        </button>
        <div id="menu2" class="ml-4 mt-2 space-y-1 text-sm">
          <a href="b2b_dashboard_tailwind.html" class="block px-3 py-1 hover:bg-blue-700 rounded">ìƒë‹´ í˜„í™©</a>
          <a href="company_list.html" class="block px-3 py-1 hover:bg-blue-700 rounded">ê¸°ì—… ëª©ë¡</a>
          <a href="customer_list.html" class="block px-3 py-1 hover:bg-blue-700 rounded">ê³ ê° ëª©ë¡</a>
          <a href="#" class="block px-3 py-1 hover:bg-blue-700 rounded">ìˆ˜ê°•ì‹œê°„ ì¡°íšŒ</a>
          <a href="#" class="block px-3 py-1 hover:bg-blue-700 rounded">í•™ìŠµìƒë‹´Â·CS ê´€ë¦¬</a>
          <a href="customer_registration.html" class="block px-3 py-1 bg-blue-900 rounded font-semibold">ì‹ ê·œ ê³ ê° ë“±ë¡</a>
        </div>
      </div>
    </nav>
  </aside>

  <!-- âœ… ë©”ì¸ ì˜ì—­ -->
  <div class="flex-1 flex flex-col relative overflow-y-auto">
    <!-- âœ… ìƒë‹¨ ê³ ì •: ì‘ëŒ€ ë‚´ìš© ì…ë ¥ -->
    <header class="sticky top-0 bg-white shadow p-5 z-10">
      <div class="w-full">
        <h2 class="text-xl font-semibold text-gray-800 border-b pb-4 mb-6">ì‘ëŒ€ ë‚´ìš©</h2>
        <div class="grid grid-cols-4 gap-4 mb-4">
          <select class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-blue-400">
            <option>ë‹´ë‹¹ì ì„ íƒ</option>
            <option>í™ê¸¸ë™</option>
            <option>ì´í˜„ìš°</option>
            <option>ë°•ì§€í˜„</option>
          </select>
          <select id="statusSelect" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-blue-400"> 
            <option>ì²˜ë¦¬ìƒíƒœ ì„ íƒ</option>
            <option value="ì²˜ë¦¬ëŒ€ê¸°" class="text-red-600 font-semibold">ì²˜ë¦¬ëŒ€ê¸°</option>
            <option value="ì²˜ë¦¬ì™„ë£Œ" class="text-green-600 font-semibold">ì²˜ë¦¬ì™„ë£Œ</option>
          </select>
          <select id="categoryMain" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-blue-400">
            <option value="">ëŒ€ë¶„ë¥˜ ì„ íƒ</option>
            <option value="ìˆ˜ê°•Â·ê²°ì œ">ìˆ˜ê°•Â·ê²°ì œ</option>
            <option value="ìˆ˜ê°•í™˜ê²½Â·ì ‘ì†">ìˆ˜ê°•í™˜ê²½Â·ì ‘ì†</option>
            <option value="í•™ìŠµì§„í–‰Â·í‰ê°€">í•™ìŠµì§„í–‰Â·í‰ê°€</option>
            <option value="ê°•ì˜Â·ê°•ì‚¬">ê°•ì˜Â·ê°•ì‚¬</option>
            <option value="ê¸°íƒ€Â·ì œíœ´">ê¸°íƒ€Â·ì œíœ´</option>
          </select>
          <select id="categorySub" class="border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-blue-400 disabled:bg-gray-100 disabled:cursor-not-allowed" disabled>
            <option value="">ì¤‘ë¶„ë¥˜ ì„ íƒ</option>
          </select>
        </div>
        <div class="mb-4">
          <input type="text" placeholder="ì œëª©ì„ ì…ë ¥í•˜ì„¸ìš”" class="w-full border border-blue-300 bg-blue-50 rounded-lg px-3 py-2 text-sm focus:ring-blue-400 placeholder:font-medium" />
        </div>
        <div class="grid grid-cols-2 gap-4">
          <textarea placeholder="ë¬¸ì˜ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..." class="border border-gray-300 rounded-lg px-3 py-2 w-full h-24 focus:ring-blue-400 focus:outline-none"></textarea>
          <textarea placeholder="ì‘ëŒ€ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš”..." class="border border-gray-300 rounded-lg px-3 py-2 w-full h-24 focus:ring-blue-400 focus:outline-none"></textarea>
        </div>
      </div>
    </header>

    <!-- âœ… ë©”ì¸: ì‹ ê·œ ê³ ê° ì •ë³´ ì…ë ¥ -->
    <main class="flex-1 p-8">
      <section class="bg-white p-8 rounded-xl shadow">
        <h2 class="text-xl font-semibold text-gray-800 border-b pb-4 mb-6">ì‹ ê·œ ê³ ê° ì •ë³´ ë“±ë¡</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6 items-start">
          <!-- âœ… ê¸°ì—…ëª… ê²€ìƒ‰ ë° ì„ íƒ -->
          <div class="md:col-span-2 grid grid-cols-2 gap-x-8 items-start">
            <div class="relative">
              <label for="company-search" class="text-sm font-medium text-gray-700">ê¸°ì—…ëª… ê²€ìƒ‰</label>
              <input type="text" id="company-search" placeholder="ê¸°ì—…ëª…ì„ ì…ë ¥í•˜ì—¬ ê²€ìƒ‰í•˜ì„¸ìš”..." class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none" autocomplete="off" />
              <div id="company-suggestions" class="hidden absolute z-10 mt-1 w-full bg-white rounded-lg shadow-lg border border-gray-200 max-h-60 overflow-y-auto">
                <!-- JSë¡œ ì œì•ˆ ëª©ë¡ ìƒì„± -->
              </div>
              <div id="daou-notice" class="hidden text-red-600 text-xs mt-1">
                ë‹¤ìš°ì˜¤í”¼ìŠ¤ í”Œë«í¼ ê³ ê°ì‚¬ì˜ ë¬¸ì˜ê°€ ì•„ë‹Œ, ë‹¤ìš°ì˜¤í”¼ìŠ¤ ìì²´ë¬¸ì˜ì¼ ê²½ìš°ì—ëŠ” ëŒ€ê´„í˜¸ ë‚´ì˜ íšŒì‚¬ëª…ì„ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.
              </div>
            </div>
            <div>
              <label class="text-sm font-medium text-gray-700">ì„ íƒëœ ê¸°ì—…</label>
              <div id="selected-company-info" class="w-full mt-1 bg-blue-50 border border-blue-200 rounded-lg px-3 py-2 text-blue-800 font-semibold min-h-[42px] flex items-center">
                <span class="text-gray-400">ê¸°ì—…ì„ ê²€ìƒ‰í•˜ì—¬ ì„ íƒí•´ì£¼ì„¸ìš”.</span>
              </div>
            </div>
          </div>
          <div>
            <label for="contact-id" class="text-sm font-medium text-gray-700">ì•„ì´ë””</label>
            <input type="text" id="contact-id" placeholder="ì˜ˆ: hackers01" class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none" />
          </div>
          <div>
            <label for="contact-name" class="text-sm font-medium text-gray-700">ì´ë¦„</label>
            <input type="text" id="contact-name" placeholder="ì˜ˆ: í™ê¸¸ë™" class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none" />
          </div>
          <div>
            <label for="member-type" class="text-sm font-medium text-gray-700">íšŒì›êµ¬ë¶„</label>
            <select id="member-type" class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none">
              <option>êµ¬ë¶„ ì„ íƒ</option>
              <option>í•™ìŠµì</option>
              <option>ê¸°ì—…ê´€ë¦¬ì</option>
              <option>êµìœ¡ë‹´ë‹¹ì</option>
              <option>ê¸°ì—…ìš´ì˜ì</option>
              <option>ê¸°ì—… ìì²´ ê³ ê°ì‚¬</option>
            </select>
          </div>
          <div>
            <label for="mobile-phone" class="text-sm font-medium text-gray-700">í•¸ë“œí°</label>
            <input type="text" id="mobile-phone" placeholder="'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥" class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none" />
          </div>
          <div>
            <label for="email" class="text-sm font-medium text-gray-700">ì´ë©”ì¼</label>
            <input type="email" id="email" placeholder="ì˜ˆ: example@hackers.com" class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none" />
          </div>
          <div>
            <label for="office-phone" class="text-sm font-medium text-gray-700">ì „í™”ë²ˆí˜¸</label>
            <input type="text" id="office-phone" placeholder="'-' ì—†ì´ ìˆ«ìë§Œ ì…ë ¥" class="w-full mt-1 border border-gray-300 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none" />
          </div>
          <!-- âœ… ì˜ì—…/ìš´ì˜ ë‹´ë‹¹ì (í•˜ë‹¨ìœ¼ë¡œ ì´ë™ ë° ìŠ¤íƒ€ì¼ ë³€ê²½) -->
          <div class="md:col-span-2 border-t pt-6 mt-4 grid grid-cols-2 gap-x-8">
            <div>
              <label for="sales-manager" class="text-sm font-medium text-gray-500">ì˜ì—…ë‹´ë‹¹ì</small></label>
              <input type="text" id="sales-manager" class="w-full mt-1 border border-gray-200 bg-gray-100 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none cursor-not-allowed" readonly placeholder="ê¸°ì—… ì„ íƒ ì‹œ ìë™ ì„¤ì •">
            </div>
            <div>
              <label for="operation-manager" class="text-sm font-medium text-gray-500">ìš´ì˜ë‹´ë‹¹ì</label>
              <input type="text" id="operation-manager" class="w-full mt-1 border border-gray-200 bg-gray-100 rounded-lg px-3 py-2 focus:ring-blue-400 focus:outline-none cursor-not-allowed" readonly placeholder="ê¸°ì—… ì„ íƒ ì‹œ ìë™ ì„¤ì •">
            </div>
          </div>
        </div>
      </section>
    </main>

    <!-- í•˜ë‹¨ ë²„íŠ¼ ì˜ì—­ -->
    <footer class="bg-white px-5 py-4 shadow-inner flex justify-end items-center border-t sticky bottom-0">
      <button onclick="window.location.href='customer_list.html'" class="bg-gray-200 text-gray-700 px-6 py-2 rounded-lg hover:bg-gray-300 transition font-semibold mr-3">
        ì·¨ì†Œ
      </button>
      <button id="register-btn" class="bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition font-semibold">
        ë“±ë¡í•˜ê¸°
      </button>
    </footer>
  </div>
  
  <script>
    // âœ… ì‚¬ì´ë“œë©”ë‰´ í† ê¸€ (ëŒ€ì‹œë³´ë“œì™€ ë™ì¼)
    const menuToggle1 = document.getElementById("menuToggle1");
    const menu1 = document.getElementById("menu1");
    const menuToggle2 = document.getElementById("menuToggle2");
    const menu2 = document.getElementById("menu2");

    menuToggle1.addEventListener("click", () => menu1.classList.toggle("hidden"));
    menuToggle2.addEventListener("click", () => menu2.classList.toggle("hidden"));
    menu2.classList.remove("hidden"); // ê´€ë¦¬ë©”ë‰´ëŠ” ê¸°ë³¸ìœ¼ë¡œ ì—´ì–´ë‘  

    // âœ… ê¸°ì—…ëª… ê²€ìƒ‰ ê¸°ëŠ¥
    // company_list.htmlì˜ ë°ì´í„°ì™€ ì—°ë™ë˜ëŠ” ê°€ìƒ DB
    const companyDB = [
        { name: "ì‚¼ì„±ì „ì", code: "samsung", salesManager: "ë°•ì§€í˜„", opManager: "ê¹€ë¯¼ì¤€" },
        { name: "SKí•˜ì´ë‹‰ìŠ¤", code: "skhynix", salesManager: "ì´í˜„ìš°", opManager: "ì´ì„œì—°" },
        { name: "LGí™”í•™", code: "lgchem", salesManager: "ê¹€ì˜í¬", opManager: "ë°•ë„ìœ¤" },
        { name: "í˜„ëŒ€ìë™ì°¨", code: "hyundai", salesManager: "ì´í•˜ìœ¤", opManager: "ìµœì„œìœ¤" },
        { name: "ì¹´ì¹´ì˜¤", code: "kakao", salesManager: "ë°•ì§€í˜„", opManager: "ì •ì‹œìš°" },
        { name: "ë„¤ì´ë²„", code: "naver", salesManager: "ì´í˜„ìš°", opManager: "ê°•ì§€ìš°" },
        { name: "CJí‘¸ë“œë¹Œ", code: "cjfood", salesManager: "ê¹€ì˜í¬", opManager: "ì¡°í•˜ì¤€" },
        { name: "ëŒ€í•œí•­ê³µ", code: "koreanair", salesManager: "ì´í•˜ìœ¤", opManager: "ìœ¤ì§€ìœ " },
        { name: "ë‹¤ìš°ì˜¤í”¼ìŠ¤", code: "daou", salesManager: "ë°•ì§€í˜„", opManager: "ì¥ì£¼ì›" },
        { name: "í¬ìŠ¤ì½”", code: "posco", salesManager: "ì´í˜„ìš°", opManager: "ì„ì„œí˜„" }
    ];

    const searchInput = document.getElementById("company-search");
    const suggestionsContainer = document.getElementById("company-suggestions");
    const selectedDisplay = document.getElementById("selected-company-info");
    const salesManagerInput = document.getElementById("sales-manager");
    const opManagerInput = document.getElementById("operation-manager");
    const daouNotice = document.getElementById("daou-notice");

    function disableManagerInputs() {
        salesManagerInput.readOnly = true;
        opManagerInput.readOnly = true;
        [salesManagerInput, opManagerInput].forEach(input => {
            input.classList.add("bg-gray-100", "cursor-not-allowed");
            input.classList.remove("bg-white");
            input.placeholder = "ê¸°ì—… ì„ íƒ ì‹œ ìë™ ì„¤ì •";
        });
    }

    function enableManagerInputs() {
        salesManagerInput.readOnly = false;
        opManagerInput.readOnly = false;
        [salesManagerInput, opManagerInput].forEach(input => {
            input.classList.remove("bg-gray-100", "cursor-not-allowed");
            input.classList.add("bg-white");
            input.placeholder = "ë‹´ë‹¹ì ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”";
        });
    }

    function resetCompanyInfo() {
        selectedDisplay.innerHTML = `<span class="text-gray-400">ê¸°ì—…ì„ ê²€ìƒ‰í•˜ì—¬ ì„ íƒí•´ì£¼ì„¸ìš”.</span>`;
        salesManagerInput.value = "";
        opManagerInput.value = "";
        searchInput.classList.remove("text-blue-600", "font-bold");
        disableManagerInputs();
        daouNotice.classList.add("hidden");
    }
    
    let highlightedIndex = -1;

    function highlightItem(index) {
        const items = suggestionsContainer.querySelectorAll("div");
        items.forEach((item, i) => {
            if (i === index) {
                item.classList.add("bg-blue-100");
            } else {
                item.classList.remove("bg-blue-100");
            }
        });
    }

    searchInput.addEventListener("input", () => {
        const query = searchInput.value.trim();
        if (query.length === 0) {
            suggestionsContainer.classList.add("hidden");
            return;
        }

        const filteredCompanies = companyDB.filter(c => c.name.toLowerCase().includes(query.toLowerCase()));
        
        suggestionsContainer.innerHTML = "";
        filteredCompanies.forEach(company => {
            const item = document.createElement("div");
            item.className = "px-4 py-2 hover:bg-blue-50 cursor-pointer";
            if (company.name === "ë‹¤ìš°ì˜¤í”¼ìŠ¤") {
                item.classList.add("text-blue-600", "font-bold");
            }
            item.textContent = company.name;
            item.addEventListener("click", () => {
                selectedDisplay.innerHTML = `<span>${company.name}</span> <span class="ml-2 px-2 py-0.5 bg-blue-200 text-blue-800 text-xs font-bold rounded-full">${company.code}</span>`;
                salesManagerInput.value = company.salesManager;
                opManagerInput.value = company.opManager;
                disableManagerInputs();
                suggestionsContainer.classList.add("hidden");
                
                if (company.name === "ë‹¤ìš°ì˜¤í”¼ìŠ¤") {
                    searchInput.value = "ë‹¤ìš°ì˜¤í”¼ìŠ¤[]";
                    searchInput.classList.add("text-blue-600", "font-bold");
                    daouNotice.classList.remove("hidden");
                    // ì»¤ì„œë¥¼ ëŒ€ê´„í˜¸ ì‚¬ì´ì— ìœ„ì¹˜ì‹œí‚µë‹ˆë‹¤.
                    searchInput.focus();
                    searchInput.setSelectionRange(searchInput.value.length - 1, searchInput.value.length - 1);
                } else {
                    searchInput.classList.remove("text-blue-600", "font-bold");
                    searchInput.value = "";
                    daouNotice.classList.add("hidden");
                }

            });
            suggestionsContainer.appendChild(item);
        });

        suggestionsContainer.classList.remove("hidden");
        highlightedIndex = -1;
    });

    searchInput.addEventListener("keydown", (e) => {
        const items = suggestionsContainer.querySelectorAll("div");
        if (suggestionsContainer.classList.contains("hidden")) return;

        if (e.key === "ArrowDown") {
            e.preventDefault();
            highlightedIndex = (highlightedIndex + 1) % items.length;
            highlightItem(highlightedIndex);
        } else if (e.key === "ArrowUp") {
            e.preventDefault();
            highlightedIndex = (highlightedIndex - 1 + items.length) % items.length;
            highlightItem(highlightedIndex);
        } else if (e.key === "Enter") {
            e.preventDefault();
            if (highlightedIndex > -1) {
                items[highlightedIndex].click();
            } else {
                // ë“œë¡­ë‹¤ìš´ì—ì„œ ì„ íƒí•˜ì§€ ì•Šê³  ì—”í„° ëˆ„ë¥¸ ê²½ìš°
                const query = searchInput.value.trim();
                const exactMatch = companyDB.find(c => c.name.toLowerCase() === query.toLowerCase());

                if (!exactMatch && query) {
                    // ì •í™•íˆ ì¼ì¹˜í•˜ëŠ” ê¸°ì—…ì´ ì—†ìœ¼ë©´ 'ì‹ ê·œ'ë¡œ ì²˜ë¦¬
                    selectedDisplay.innerHTML = `<span>${query}</span> <span class="ml-2 px-2 py-0.5 bg-green-200 text-green-800 text-xs font-bold rounded-full">ì‹ ê·œ</span>`;
                    salesManagerInput.value = "";
                    opManagerInput.value = "";
                    searchInput.classList.remove("text-blue-600", "font-bold");
                    daouNotice.classList.add("hidden");
                    disableManagerInputs();
                    
                    if (query.toLowerCase() === 'ë‹¤ìš°ì˜¤í”¼ìŠ¤') {
                        searchInput.value = "ë‹¤ìš°ì˜¤í”¼ìŠ¤[]";
                        searchInput.classList.add("text-blue-600", "font-bold");
                        searchInput.focus();
                        searchInput.setSelectionRange(searchInput.value.length - 1, searchInput.value.length - 1);
                    } else {
                        searchInput.classList.remove("text-blue-600", "font-bold");
                        searchInput.value = ""; // ê²€ìƒ‰ì°½ë§Œ ë¹„ì›€
                    }
                }
            }
            suggestionsContainer.classList.add("hidden");
        } else if (e.key === "Escape") {
            suggestionsContainer.classList.add("hidden");
        }
    });

    // ë‹¤ë¥¸ ê³³ í´ë¦­ ì‹œ ì œì•ˆ ì°½ ë‹«ê¸°
    document.addEventListener("click", (e) => {
      if (!searchInput.contains(e.target) && !suggestionsContainer.contains(e.target)) {
        suggestionsContainer.classList.add("hidden");
      }
    });

    // âœ… ë“±ë¡í•˜ê¸° ë²„íŠ¼ í´ë¦­ ì´ë²¤íŠ¸
    document.getElementById("register-btn").addEventListener("click", () => {
        alert("ì‹ ê·œ ê³ ê° ì •ë³´ê°€ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤. ê³ ê° ëª©ë¡ ë° ìƒë‹´ í˜„í™©ì— ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.");
        window.location.href = 'customer_list.html';
    });


    // ğŸ”¹ ëŒ€ë¶„ë¥˜-ì¤‘ë¶„ë¥˜ ì—°ë™ ê¸°ëŠ¥ (customer_view.html ì—ì„œ ë³µì‚¬)
    const categoryMap = {
      "ìˆ˜ê°•Â·ê²°ì œ": ["ê²°ì œì˜¤ë¥˜", "í™˜ë¶ˆë¬¸ì˜", "ì˜ìˆ˜ì¦ë°œê¸‰", "í• ì¸ë¬¸ì˜", "ê²°ì œë°©ë²•"],
      "ìˆ˜ê°•í™˜ê²½Â·ì ‘ì†": ["ë¡œê·¸ì¸ë¬¸ì œ", "ë¹„ë°€ë²ˆí˜¸ì°¾ê¸°", "ê³„ì •ì˜¤ë¥˜", "ì ‘ì†ë¶ˆê°€", "ë¸Œë¼ìš°ì €ë¬¸ì œ"],
      "í•™ìŠµì§„í–‰Â·í‰ê°€": ["ì§„ë„ìœ¨ë¬¸ì˜", "ì‹œí—˜ì‘ì‹œ", "ê³¼ì œì œì¶œ", "ìˆ˜ë£Œì¦ë°œê¸‰", "ì„±ì ë¬¸ì˜"],
      "ê°•ì˜Â·ê°•ì‚¬": ["ê°•ì‚¬í‰ê°€", "ê°•ì˜ë‚´ìš©", "ê°•ì˜ìë£Œ", "ê°•ì˜ì˜¤ë¥˜", "ê°•ì˜ìš”ì²­"],
      "ê¸°íƒ€Â·ì œíœ´": ["ì œíœ´ë¬¸ì˜", "ê²¬ì ë¬¸ì˜", "ë‹¨ì²´ë¬¸ì˜", "ê¸°íƒ€", "ê±´ì˜ì‚¬í•­"]
    };

    const categoryMainSelect = document.getElementById("categoryMain");
    const categorySubSelect = document.getElementById("categorySub");

    // ëŒ€ë¶„ë¥˜ ì„ íƒ ì‹œ ì¤‘ë¶„ë¥˜ ì—…ë°ì´íŠ¸
    categoryMainSelect.addEventListener("change", function() {
      const selectedMain = this.value;
      categorySubSelect.innerHTML = '<option value="">ì¤‘ë¶„ë¥˜ ì„ íƒ</option>'; 
      
      if (selectedMain && categoryMap[selectedMain]) {
        categoryMap[selectedMain].forEach(sub => {
          const option = document.createElement("option");
          option.value = sub;
          option.textContent = sub;
          categorySubSelect.appendChild(option);
        });
        categorySubSelect.disabled = false;
      } else {
        categorySubSelect.disabled = true;
      }
    });

    // âœ… ì²˜ë¦¬ìƒíƒœ ë“œë¡­ë‹¤ìš´ ìƒ‰ìƒ ë³€ê²½ (customer_view.html ì—ì„œ ë³µì‚¬)
    const statusSelect = document.getElementById("statusSelect");
    statusSelect.addEventListener("change", function() {
      // ë¨¼ì € ëª¨ë“  ìƒ‰ìƒ ë° êµµê¸° í´ë˜ìŠ¤ë¥¼ ì œê±°í•©ë‹ˆë‹¤.
      this.classList.remove("text-red-600", "text-green-600", "font-semibold");

      const selectedValue = this.value;

      if (selectedValue === "ì²˜ë¦¬ëŒ€ê¸°") {
        this.classList.add("text-red-600", "font-semibold");
      } else if (selectedValue === "ì²˜ë¦¬ì™„ë£Œ") {
        this.classList.add("text-green-600", "font-semibold");
      }
    });
  </script>
</body>

</html>
</html>